--- a/Python/fileutils.c
+++ b/Python/fileutils.c
@@
-    if (close_range(first, last, 0) == 0) {
+    #ifdef __ANDROID__
+        for (int fd = first; fd <= last; fd++) {
+            close(fd);
+        }
+    #else
+        if (close_range(first, last, 0) == 0) {
+    #endif
